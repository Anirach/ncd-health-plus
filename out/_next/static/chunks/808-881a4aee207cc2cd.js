"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[808],{78377:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(57437),o=n(63810),a=n(95622);function i(e){let{label:t,value:n,ciLow:i,ciHigh:s,size:c="md",showCI:l=!1}=e,d=(0,a.JB)(n),u=(0,a.Dh)(n),f=Math.min(100*n,100),h={sm:{r:40,stroke:8,fontSize:14,labelSize:10,outer:100},md:{r:55,stroke:10,fontSize:20,labelSize:12,outer:140},lg:{r:70,stroke:12,fontSize:26,labelSize:14,outer:180}}[c],m=2*Math.PI*h.r,g=.75*m;return(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsxs)("svg",{width:h.outer,height:h.outer,viewBox:"0 0 ".concat(h.outer," ").concat(h.outer),children:[(0,r.jsx)("circle",{cx:h.outer/2,cy:h.outer/2,r:h.r,fill:"none",stroke:"#E2E8F0",strokeWidth:h.stroke,strokeLinecap:"round",strokeDasharray:"".concat(g," ").concat(m),strokeDashoffset:0,transform:"rotate(135 ".concat(h.outer/2," ").concat(h.outer/2,")"),className:"dark:stroke-navy-700"}),(0,r.jsx)(o.E.circle,{cx:h.outer/2,cy:h.outer/2,r:h.r,fill:"none",stroke:d,strokeWidth:h.stroke,strokeLinecap:"round",strokeDasharray:"".concat(g," ").concat(m),initial:{strokeDashoffset:g},animate:{strokeDashoffset:g-g*f/100},transition:{duration:1,ease:"easeOut"},transform:"rotate(135 ".concat(h.outer/2," ").concat(h.outer/2,")")}),(0,r.jsxs)("text",{x:h.outer/2,y:h.outer/2-2,textAnchor:"middle",dominantBaseline:"middle",fontSize:h.fontSize,fontWeight:"bold",fill:d,children:[f.toFixed(1),"%"]}),(0,r.jsx)("text",{x:h.outer/2,y:h.outer/2+h.fontSize-2,textAnchor:"middle",dominantBaseline:"middle",fontSize:h.labelSize,className:"fill-navy-500 dark:fill-navy-300",children:u})]}),(0,r.jsx)("span",{className:"mt-1 text-sm font-medium text-navy-700 dark:text-navy-200",children:t}),l&&void 0!==i&&void 0!==s&&(0,r.jsxs)("span",{className:"text-xs text-navy-400 dark:text-navy-400",children:["95% CI: ",(100*i).toFixed(1),"â€“",(100*s).toFixed(1),"%"]})]})}},12381:function(e,t,n){n.d(t,{z:function(){return l}});var r=n(57437),o=n(2265),a=n(37053),i=n(90535),s=n(93448);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-lg text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-teal-500 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-teal-500 text-white hover:bg-teal-600 shadow-sm",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-navy-200 bg-white hover:bg-navy-50 text-navy-800 dark:border-navy-600 dark:bg-navy-800 dark:hover:bg-navy-700 dark:text-white",secondary:"bg-navy-100 text-navy-800 hover:bg-navy-200 dark:bg-navy-700 dark:text-white",ghost:"hover:bg-navy-100 dark:hover:bg-navy-700",link:"text-teal-500 underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=o.forwardRef((e,t)=>{let{className:n,variant:o,size:i,asChild:l=!1,...d}=e,u=l?a.g7:"button";return(0,r.jsx)(u,{className:(0,s.cn)(c({variant:o,size:i,className:n})),ref:t,...d})});l.displayName="Button"},95622:function(e,t,n){n.d(t,{Dh:function(){return b},JB:function(){return g},Pf:function(){return h},QP:function(){return m},gb:function(){return f},wE:function(){return v}});var r=n(7463);let o={age:{mean:55,std:12},sex:{mean:.5,std:.5},sbp:{mean:130,std:18},dbp:{mean:82,std:10},ldl:{mean:130,std:35},hdl:{mean:50,std:14},tc:{mean:210,std:40},tg:{mean:150,std:70},hba1c:{mean:5.8,std:.9},fpg:{mean:105,std:25},bmi:{mean:26,std:4.5},egfr:{mean:85,std:22},smoking:{mean:.25,std:.4},exercise:{mean:2.5,std:2},alcohol:{mean:.2,std:.3},diet:{mean:.5,std:.25},statin:{mean:.2,std:.4},htn_med:{mean:.3,std:.45},sglt2i:{mean:.05,std:.22},metformin:{mean:.15,std:.35},aspirin:{mean:.15,std:.35},ace_arb:{mean:.2,std:.4},diabetes:{mean:.15,std:.35},hypertension:{mean:.35,std:.48}},a={cad:-2.5,stroke:-3,hf:-3.2,pad:-3.5,t2dm:-2.8,ckd:-2.6,nafld:-2};function i(e){return 1/(1+Math.exp(-e))}function s(e,t){let n=o[e];return n?(t-n.mean)/n.std:0}function c(e){let t={...e};return t.diabetes=t.hba1c>=6.5||t.fpg>=126?1:t.hba1c>=5.7||t.fpg>=100?.5:0,t.hypertension=t.sbp>=140||t.dbp>=90?1:t.sbp>=130||t.dbp>=85?.5:0,t}function l(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:0}function d(e,t){var n;let o=c(e),d=null!==(n=a[t])&&void 0!==n?n:-2.5,u=(0,r.FB)(t),f=d;for(let e of u){let t=l(o,e.source),n=s(e.source,t);f+=e.weight*n}return i(f)}function u(e,t){var n;let o=c(e),d=null!==(n=a[t])&&void 0!==n?n:-2.5,u=(0,r.FB)(t),f=d,h=d,m=d;for(let e of u){let t=l(o,e.source),n=s(e.source,t);f+=e.weight*n,n>=0?(h+=e.ci[0]*n,m+=e.ci[1]*n):(h+=e.ci[1]*n,m+=e.ci[0]*n)}return{value:i(f),ci_low:i(h),ci_high:i(m)}}function f(e){let t=d(e,"cad"),n=d(e,"stroke"),r=d(e,"hf"),o=d(e,"pad"),a=d(e,"t2dm"),i=d(e,"ckd"),s=d(e,"nafld"),c=1-(1-t)*(1-n)*(1-r)*(1-o);return{cad:t,stroke:n,hf:r,pad:o,t2dm:a,ckd:i,nafld:s,cvd_composite:c,ncd_composite:1-(1-c)*(1-a)*(1-i)}}function h(e){let t=u(e,"cad"),n=u(e,"stroke"),r=u(e,"hf"),o=u(e,"pad"),a=u(e,"t2dm"),i=u(e,"ckd"),s=u(e,"nafld"),c=1-(1-t.value)*(1-n.value)*(1-r.value)*(1-o.value),l=1-(1-t.ci_low)*(1-n.ci_low)*(1-r.ci_low)*(1-o.ci_low),d=1-(1-t.ci_high)*(1-n.ci_high)*(1-r.ci_high)*(1-o.ci_high),f=1-(1-c)*(1-a.value)*(1-i.value),h=1-(1-l)*(1-a.ci_low)*(1-i.ci_low),m=1-(1-d)*(1-a.ci_high)*(1-i.ci_high);return{cad:t,stroke:n,hf:r,pad:o,t2dm:a,ckd:i,nafld:s,cvd_composite:{value:c,ci_low:l,ci_high:d},ncd_composite:{value:f,ci_low:h,ci_high:m}}}function m(e,t){let n=c(e),o={},a={},i=[];for(let e of r._j)o[e]=l(n,e);for(let[e,n]of Object.entries(t))if(void 0!==n){let t=n-(o[e]||0);o[e]=n,a[e]=t}for(let e of r._j){if(t.hasOwnProperty(e))continue;let c=r.$Y.filter(t=>t.target===e),d=0;for(let e of c){var s;let a=(null!==(s=o[e.source])&&void 0!==s?s:0)-l(n,e.source);if(Math.abs(a)>.001){let n=4;for(let o of Object.keys(t))n=Math.min(n,function(e,t){let n=new Set,o=[{node:e,depth:0}];for(;o.length>0;){let{node:e,depth:a}=o.shift();if(e===t)return a;if(!(a>=3))for(let t of(n.add(e),r.$Y.filter(t=>t.source===e)))n.has(t.target)||o.push({node:t.target,depth:a+1})}return 4}(o,e.source)+1);if(n<=3){let t=Math.pow(.7,n),r=e.weight*a*t;d+=r,Math.abs(r)>.001&&i.push(e.id)}}}Math.abs(d)>.001&&(o[e]=l(n,e)+d,a[e]=d)}let d={...e,...t};for(let[e,r]of Object.entries(a))t.hasOwnProperty(e)||(d[e]=l(n,e)+r);for(let[e]of Object.entries(t))for(let t of r.$Y.filter(t=>t.source===e))i.push(t.id);let u=f(d);return{interventionProfile:d,risks:u,deltas:a,activatedEdges:Array.from(new Set(i))}}function g(e){return e<.1?"#22C55E":e<.2?"#EAB308":e<.3?"#F97316":"#EF4444"}function b(e){return e<.1?"Low":e<.2?"Moderate":e<.3?"High":"Very High"}let v=[{id:"demo-low",name:"Sarah Chen",age:40,sex:0,sbp:115,dbp:72,ldl:95,hdl:62,tc:185,tg:90,hba1c:5.2,fpg:88,bmi:22.5,egfr:105,smoking:0,exercise:5,alcohol:0,diet:.8,statin:0,htn_med:0,sglt2i:0,metformin:0,aspirin:0,ace_arb:0},{id:"demo-moderate",name:"James Wilson",age:55,sex:1,sbp:148,dbp:92,ldl:162,hdl:38,tc:245,tg:210,hba1c:6.1,fpg:112,bmi:29.5,egfr:78,smoking:0,exercise:1,alcohol:.5,diet:.4,statin:0,htn_med:0,sglt2i:0,metformin:0,aspirin:0,ace_arb:0},{id:"demo-high",name:"Robert Martinez",age:65,sex:1,sbp:168,dbp:98,ldl:185,hdl:32,tc:280,tg:290,hba1c:8.2,fpg:165,bmi:33.5,egfr:52,smoking:1,exercise:0,alcohol:.5,diet:.2,statin:0,htn_med:0,sglt2i:0,metformin:0,aspirin:0,ace_arb:0}]},92371:function(e,t,n){n.d(t,{Yg:function(){return d},bY:function(){return f},bo:function(){return c},eq:function(){return s},td:function(){return u},wg:function(){return l}});var r=n(95622);let o="ncd-health-plus-patients",a="ncd-health-plus-active",i="ncd-health-plus-history";function s(){try{let e=localStorage.getItem(o);if(e)return JSON.parse(e)}catch(e){}return r.wE}function c(e){localStorage.setItem(o,JSON.stringify(e))}function l(){return localStorage.getItem(a)||"demo-moderate"}function d(e){localStorage.setItem(a,e)}function u(e){try{let t=localStorage.getItem("".concat(i,"-").concat(e));if(t)return JSON.parse(t)}catch(e){}return[]}function f(e,t){let n=u(e);n.push({date:new Date().toISOString().split("T")[0],profile:t}),localStorage.setItem("".concat(i,"-").concat(e),JSON.stringify(n))}}}]);